{% extends '../blocks/base.html' %}


{% block title %}Synthia | NeuralNet{% endblock title %}

{% block body %}

<section class="max-h-screen" id="synthia">
    {% if messages %}
    {% for message in messages %}
    <div id="alert-box"
        class="{% if message.tags %}{{message.tags}}{% endif %} border px-4 py-3 fixed top-20 right-8 rounded-lg w-2/5"
        role="alert">
        <strong class="capitalize block sm:inline">{{message}}</strong>
        <span class="absolute top-0 bottom-0 right-0 px-4 py-3" id="close-btn">
            <svg class="fill-current h-6 w-6 {% if message.tags %}{{message.tags}}{% endif %}" role="button"
                xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
                <title>Close</title>
                <path
                    d="M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z" />
            </svg>
        </span>
    </div>
    {% endfor %}
    {% endif %}
    <div class="flex-col items-center justify-center py-12">
        <div class="bg-slate-600 w-1/2 mx-auto p-4 rounded-lg text-white f-light">
            {% if query == "" %}
            <div class="grid grid-cols-8 gap-1 my-2">
                <strong class="col-span-1"><img src="/static/images/logo-white.png" class="w-10" alt="NeuralNet"
                        srcset=""></strong>
                <p class="col-span-6 text-lg">
                    Hey there !!!!!
                    <br>
                    How can I help you
                </p>
            </div>
            {% else %}
            <div class="grid grid-cols-8 gap-1 my-2">
                <strong class="col-span-1"><img src="/static/images/user-icon-white.png" class="w-8" alt="NeuralNet"
                        srcset=""></strong>
                <p class="col-span-6 text-lg">
                    {{query}}
                </p>
            </div>
            <div class="grid grid-cols-8 gap-1 my-2">
                <strong class="col-span-1"><img src="/static/images/logo-white.png" class="w-8" alt="NeuralNet"
                        srcset=""></strong>
                <p class="col-span-7 text-lg">
                    {{result | linebreaksbr}}
                </p>
            </div>
            {% endif %}
        </div>
    </div>
    <div class="flex items-center justify-center mt-20 fixed bottom-10 w-full z-40">
        <div class="mx-auto w-full shadow-lg flex items-center justify-center bg-slate-600 max-w-max py-1.5 px-4 rounded-lg text-white f-medium">
            <form action="" method="post">
                {% csrf_token %}
                <input name="query" id="text-query" value="{{query}}" type="text"
                    class="mx-auto h-12 border-0 outline-none rounded-md bg-slate-600 text-white text-lg" autocomplete="off" placeholder="Ask for anything" style="width: 700px;">

                <button type="submit" name="form1" class="mx-5">
                    <i class="fa fa-paper-plane text-white text-xl"></i>
                </button>
            </form>
            <form action="" method="post">
                {% csrf_token %}
                <button type="submit" name="form2" id="voice-input"><i class="fa fa-microphone text-xl"></i></button>
            </form>
        </div>
    </div>
</section>

{% include '../blocks/listening-animation.html' %}

{% endblock body %}